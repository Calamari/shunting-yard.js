/*!
 * Implementation of the Shunting yard algorithm
 * look it up: http://en.wikipedia.org/wiki/Shunting-yard_algorithm
 *
 * Copyright 2013, Georg Tavonius
 * Licensed under the MIT license.
 *
 * @version 1.0.1
 *
 * @author Georg Tavonius a.k.a. Calamari (http://github.com/Calamari)
 * @homepage http://github.com/Calamari/shunting-yard.js
 */
!function(a){"use strict";function b(a,b,c,d,e){return c=c||"left",{name:a,precedence:b,params:d,method:e,greaterThen:function(a){return b>a.precedence},greaterThenEqual:function(a){return b>=a.precedence},equalThen:function(a){return b===a.precedence},lessThen:function(a){return b<a.precedence},lessThenEqual:function(a){return b<=a.precedence},leftAssoc:function(){return"left"===c},rightAssoc:function(){return"right"===c}}}function c(a,b,c){return{name:a,params:b,method:c}}var d=window.jaz||{};d.shuntingYard=function(b){function c(a){return"("===a}function e(a){return")"===a}function f(a){return d.Operators[a]}function g(a){return d.Functions[a]}var h,i,j,k,l,m,n,o=[],p=[];for(j=0,k=b.length;k>j;++j)if(l=b[j]," "!==l){if(i&&(l=i+=l,i=null),c(l))p.push(l);else if(g(l))p.push(l);else if(e(l)){for(;(m=p.pop())&&!c(m);)g(m)||o.push(m);if(m===a)return null}else if(f(l)){if(!h||"("===h){i=l;continue}for(;p.length&&(n=d.Operators[l],m=d.Operators[p[p.length-1]],m&&n)&&(n.leftAssoc()&&n.lessThenEqual(m)||n.lessThen(m));)o.push(p.pop());p.push(l)}else!h||c(h)||f(h)?o.push(l):o[o.length-1]+=l;h=l}for(;p.length;){if(l=p.pop(),c(l))return null;o.push(l)}return o},d.Operator=b,d.Operators={"+":new b("+",2,"left",2,function(a,b){return a+b}),"-":new b("-",2,"left",2,function(a,b){return a-b}),"*":new b("*",3,"left",2,function(a,b){return a*b}),"/":new b("/",3,"left",2,function(a,b){return a/b}),"^":new b("^",4,"right",2,function(a,b){return Math.pow(a,b)})},d.Function=c,d.Functions={},window.jaz=d}(),/*!
 * Resolves a RPN
 *
 * Copyright 2013, Georg Tavonius
 * Licensed under the MIT license.
 *
 * @author Georg Tavonius a.k.a. Calamari (http://github.com/Calamari)
 * @homepage http://github.com/Calamari/shunting-yard.js
 */
function(){"use strict";var a=window.jaz||{};a.resolveRPN=function(b){function c(b){return a.Operators[b]||a.Functions[b]}var d,e,f,g=[];for(d=0,e=b.length;e>d;++d)f=c(b[d]),f?g.push(f.method.apply(this,g.splice(-f.params))):g.push(parseFloat(b[d]));return g[0]},window.jaz=a}();